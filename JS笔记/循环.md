# 循环

## 补充知识点：浏览器重绘机制

- 浏览器与JS的关系：JS是行为层，如果对HTML结构做出了修改，浏览器会触发重绘HTML、会重新解析新的HTML和CSS然后重新展示出来。

## 补充知识点：关于图片切换

- 图片切换

  ```html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
  <img src="1.jpg.webp" alt="" id="goudan"/>
  <script>
      /*
      *一般不用改变src的方式来控制图片的变化
      * 1、给的新地址加载需要时间，因为新的图片不在初始的资源表里面，需要重新请求服务器下载资源再次加	载，非常考验服务器能力及用户网速（用户体验差）
      * 2、效果太死不便于后期的更改及维护（主要是样式的更改）
      *
      */
      var oG = document.getElementById("goudan");
      oG.onclick = function () {
          this.src ="2.jpg";
      }
  </script>
  </body>
  </html>
  ```

## for循环

```js
/*
for(  步骤一 ;  步骤二 ; 步骤四  ){
	//循环体步骤三
	//循环体步骤三
	//循环体步骤三
	//循环体步骤三
	//循环体步骤三
}
步骤一  只执行一次
步骤二一般会作为判断是否继续循环的条件
步骤二到步骤四一直循环：二  => 三 => 四 =>二  => 三 => 四 =>二  => 三 => 四
一直循环到 步骤二为假 停止循环
*/
```

- 常用的循环方式

  ```js
  for(var i=0;i<10; i++){
      console.log(i);
  };
  ```

- 死循环

  ```js
  //*无限死循环没有意义，不能使用，也最好不要测试，否则电脑容易要卡死*
  for(var x=0;x=true; x+=100){
      console.log("afei");
  };
  for(var i=0;i>=1; i++){
  	console.log("afei");
  };
  ```


- 小案例

  ```html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
  
      <div id="wrap"></div>
      <script>
          /*
          *理论上讲不考虑计算机性能的话for循环加载是不需要时间的，但是计算机需要处理需要时间，
          * */
          var oWrap = document.getElementById("wrap");
          for (var i=1;i<=10000;i++){
              oWrap.innerHTML += "<p>"+ i +"</p>";
              /*每次循环给wrap添加一个标签，都会导致HTML结构重绘*/
          }
          var h="";
          for (var i=1;i<=10000;i++){
              h += "<p>"+ i +"</p>";
              //只有被innerHTML解析之后才是标签，在JS内部里只是一个字单纯的符串
          }
          oWrap.innerHTML=h;
          /*在最后一步之前已经进行了一万次字符串拼接，然后只触发一次HTML结构重绘，以后写JS代码尽量少		的和HTML打交道*/
      </script>
  </body>
  </html>
  ```

  ```html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
      <style>
          #wrap div{
              float: left;
              width: 100px;
              height: 100px;
              background-color: #FFC0CB;
              margin: 5px;
          }
      </style>
  </head>
  <body>
      <input type="button" id="btn" value="按钮">
      <div id="wrap"></div>
      <script>
          var oBtn = document.getElementById("btn");
          var oWrap = document.getElementById("wrap");
          oBtn.onclick = function () {
              var x = "";
              for (var i=0;i<10;i++){
                  x += "<div></div>";
                  //样式写在CSS里面最好，操作HTML结构的代码写在循环外面减少JS对HTML页面的重绘
              }
              oWrap.innerHTML = x;
          };
      </script>
  </body>
  </html>
  ```

- 循环嵌套

  ```html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
      <style>
          #wrap{
              width: 550px;
              margin: 0 auto;
          }
          #wrap p{
              text-align: center;
          }
      </style>
  </head>
  <body>
      <div id="wrap"></div>
      <script>
          var oWrap = document.getElementById("wrap");
          var goudan= "";
          for (var n=1;n<39;n++){
              //2*n-1个
              goudan+="<p>";
              if(n<=20){
                  for(var m=0;m<2*n-1;m++){
                      //这里循环2*n-1次
                      goudan+="★";
                  }
              }else {
                  for(var m=0;m<(40-n)*2-1;m++){
                      //这里循环2*n-1次
                      goudan+="★";
                  }
              }
              goudan+="</p>";
          }
          oWrap.innerHTML=goudan;
      </script>
  </body>
  </html>
  ```

